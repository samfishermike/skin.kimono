<?xml version="1.0" encoding="UTF-8"?>
<window>
	<defaultcontrol always="true">9000</defaultcontrol>
	<allowoverlay>no</allowoverlay>
	<previouswindow>Home</previouswindow>
	<include>screen-fade</include>
	<controls>
		<control type="group">
			<!-- Weather screen background image -->
			<control type="image">
				<!-- Solid background -->
				<include>fullscreenimage</include>
				<texture>background.png</texture>
				<aspectratio>stretch</aspectratio>
				<visible>IsEmpty(Skin.String(background-custom))</visible>
			</control>
			<control type="image">
				<!-- Custom background -->
				<include>fullscreenimage</include>
				<texture>$INFO[Skin.String(background-custom)]</texture>
				<aspectratio>stretch</aspectratio>
				<visible>!IsEmpty(Skin.String(background-custom))</visible>
			</control>
			<control type="group">
				<control type="group">
					<visible>Window.IsActive(weather) + !IsEmpty(Skin.String(background-customweather)) + [!Player.HasVideo | !Player.HasAudio]</visible>
					<control type="multiimage">
						<!-- Use Custom weather condition backgrounds if location selected -->
						<include>fullscreenimage</include>
						<imagepath background="true">$INFO[Skin.String(background-customweather)]$INFO[Window(Weather).Property(Current.FanartCode)]</imagepath>
						<aspectratio>scale</aspectratio>
						<timeperimage>5000</timeperimage>
						<randomize>true</randomize>
						<fadetime>400</fadetime>
					</control>
				</control>
				<control type="group">
					<visible>Skin.HasSetting(background-playingmedia)</visible>
					<control type="group">
						<visible>Player.HasVideo</visible>
						<control type="videowindow">
							<include>fullscreenimage</include>
							<aspectratio>stretch</aspectratio>
						</control>
					</control>
					<control type="visualisation">
						<include>fullscreenimage</include>
						<aspectratio>stretch</aspectratio>
						<visible>Player.HasAudio</visible>
					</control>
				</control>
				<control type="group">
					<visible>Skin.HasSetting(background-slideshow) + Player.HasAudio + !SubString(Window(VideoLibrary).Property(TvTunesIsAlive),True)</visible>
					<control type="image">
						<!-- Mask out any backgrounds showing around ArtistSlideshow Fanart -->
						<include>fullscreenimage</include>
						<texture>colours/black.png</texture>
						<aspectratio>stretch</aspectratio>
					</control>
					<control type="multiimage">
						<!-- Backgroung ArtistSlideshow fanart image -->
						<include>fullscreenimage</include>
						<imagepath background="true">$INFO[Window(Visualisation).Property(ArtistSlideshow)]</imagepath>
						<aspectratio>keep</aspectratio>
						<timeperimage>5000</timeperimage>
						<fadetime>400</fadetime>
						<randomize>true</randomize>
					</control>
				</control>
			</control>
			<control type="image">
				<!-- Mask to fade background -->
				<include>fullscreenimage</include>
				<texture>colours/black.png</texture>
				<colordiffuse>mask-background</colordiffuse>
				<aspectratio>stretch</aspectratio>
				<include>background-fade</include>
				<visible>!IsEmpty(Skin.String(background-customweather)) | Skin.HasSetting(background-playingmedia) | Skin.HasSetting(background-slideshow)</visible>
			</control>
		</control>
		<control type="label">
			<!-- Weather heading label -->
			<left>1419</left>
			<top>75</top>
			<width>471</width>
			<height>48</height>
			<label>$LOCALIZE[31032]</label>
			<font>font18</font>
		</control>
		<control type="group">
			<visible>Weather.IsFetched</visible>
			<control type="label">
				<!-- Weather location label -->
				<left>26</left>
				<top>3</top>
				<width>954</width>
				<height>56</height>
				<font>font18</font>
				<include condition="Skin.HasSetting(text-autoscroll)">scrolltext</include>
				<label>$INFO[Window(Weather).Property(Location)]</label>
			</control>
			<control type="label">
				<!-- Update label -->
				<left>26</left>
				<top>57</top>
				<width>954</width>
				<height>38</height>
				<font>font11</font>
				<label>$LOCALIZE[31531] - $INFO[Window(Weather).Property(Updated)]</label>
			</control>
			<control type="group">
				<control type="image">
					<!-- Weather provider logo -->
					<left>27</left>
					<top>94</top>
					<width>270</width>
					<height>68</height>
					<colordiffuse>DropShadow</colordiffuse>
					<aspectratio>keep</aspectratio>
					<texture>$INFO[Window(Weather).Property(WeatherProviderLogo)]</texture>
				</control>
				<control type="image">
					<!-- Weather provider logo (shadow) -->
					<left>26</left>
					<top>93</top>
					<width>270</width>
					<height>68</height>
					<aspectratio>keep</aspectratio>
					<texture>$INFO[Window(Weather).Property(WeatherProviderLogo)]</texture>
				</control>
			</control>
			<control type="label">
				<!-- Weather provider label -->
				<left>26</left>
				<top>96</top>
				<width>954</width>
				<height>30</height>
				<font>font11</font>
				<label>$INFO[Window(Weather).Property(WeatherProvider),$LOCALIZE[31536] - ]</label>
				<visible>IsEmpty(Window(Weather).Property(WeatherProviderLogo))</visible>
			</control>
		</control>
		<include file="Includes_Weather.xml">weather</include>
		<control type="grouplist" id="9000">
			<!-- Option buttons -->
			<left>60</left>
			<top>990</top>
			<width>1800</width>
			<height>75</height>
			<itemgap>0</itemgap>
			<scrolltime>200</scrolltime>
			<orientation>horizontal</orientation>
			<align>center</align>
			<control type="spincontrolex" id="3">
				<!-- Change location button -->
				<width>720</width>
				<height>75</height>
				<label>$LOCALIZE[31530] : </label>
			</control>
			<control type="button" id="2">
				<!-- Refresh button -->
				<width>360</width>
				<height>75</height>
				<label>$LOCALIZE[103]</label>
				<align>center</align>
			</control>
			<control type="togglebutton" id="999">
				<!-- Radar/forecast button -->
				<width>360</width>
				<height>75</height>
				<font>font11</font>
				<align>center</align>
				<label>$LOCALIZE[33035]</label>
				<altlabel>$LOCALIZE[31528]</altlabel>
				<onclick>Skin.ToggleSetting(showradar)</onclick>
				<usealttexture>Skin.HasSetting(showradar)</usealttexture>
				<visible>SubString(Weather.plugin,weather.ozweather)</visible>
			</control>
			<control type="button" id="4">
				<!-- Settings button -->
				<width>360</width>
				<height>75</height>
				<label>$LOCALIZE[5]</label>
				<align>center</align>
				<onclick>ActivateWindow(MyWeatherSettings)</onclick>
			</control>
		</control>
	</controls>
</window>